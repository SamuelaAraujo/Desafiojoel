<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLMB - Biblioteca</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>

<div class="sidebar" id="sidebar">
    <button class="close-btn" onclick="toggleSidebar()">×</button>
    <div class="profile">
        <div class="profile-info">
            <span>Marcus vinicius</span>
        </div>
    </div>
    <ul class="menu-list">
        <li><a href="Obrasfavoritas/favoritos.html"><i class="fas fa-heart"></i> Favoritos</a></li>
        <li><a href="meusLivros/index.php"><i class="fas fa-book-open"></i> Meus livros</a></li>
        <li><a href="historico/index.html"><i class="fas fa-history"></i> Histórico</a></li>
        <li><a href="MeusDados/index.html"><i class="fas fa-user-edit"></i> Meus Dados</a></li>
        <li><a href="clube.do.livro/index.php"><i class="fas fa-book-open"></i> Clube Do Livro</a></li>
        <li><a href="moskito/cadastro.html"><i class="fas fa-book-open"></i> Cadastro de livros</a></li>
    </ul>
    <div class="footer-menu">
        <div class="school-info">
            <img src="fotos/IMG-20250513-WA0005.jpg" alt="Logo da Escola">
            <div>
                <h5>ESCOLA ESTADUAL MARIA LUIZA MIRANDA BASTOS</h5>
                <p>terceiro informatica-2025</p>
            </div>
        </div>
    </div>
</div>

<header class="main-header">
    <div class="top-bar">
        <nav class="top-nav">
            <a href="#" class="nav-item">CONHECER</a>
            <a href="#" class="nav-item">FAZER</a>
            <a href="#" class="nav-item">CONVIVER</a>
            <a href="#" class="nav-item">SER</a>
        </nav>
    </div>
    <div class="logo-search-user">
        <h1 class="logo">MLMB</h1>
        <div class="search-bar">
            <input type="text" placeholder="Pesquisar livros, autores ou temas..." aria-label="Pesquisar">
            <button type="submit" aria-label="Buscar">
                <span class="material-icons">search</span>
            </button>
        </div>
        <div class="user-actions" style="display: flex; align-items: flex-end; justify-content: flex-start;">
            <a href="login/index%20(2).php" class="action-link" >Entrar</a>
            <i class="fas fa-user-circle open-btn"
               onclick="toggleSidebar()"
               style="font-size: 2rem; cursor: pointer;"
               aria-label="Abrir menu do usuário"></i>
        </div>
    </div>
    <nav class="bottom-nav">
        <a href="../buscaPorAltor/index.php" class="bottom-nav-item">BUSQUE POR AUTORES</a>
        <a href="generosdisponiveis/index.html" class="bottom-nav-item "> CATEGORIAS <span class="material-icons menu-icon">menu</span></a>
    </nav>
</header>

<section class="hero-carousel-container">
    <div class="carousel-track">

        <div class="carousel-slide" style="background-color: #2c3e50;"> <div class="carousel-content">
            <div class="carousel-item-left">
                <img src="fotos/Livro Novo.png" alt="Capa de Livro de Fantasia" class="carousel-image-book">
            </div>
            <div class="carousel-item-center" style="background-color: #f39c12;"> <p class="carousel-tag">LANÇAMENTO</p>
                <h2 class="carousel-title">A BUSCA PELO ARTEFATO PERDIDO</h2>
                <p class="carousel-validity">Uma aventura épica espera por você!</p>
                <div class="carousel-offer-box" style="background-color: #be078b; color: white;">
                    <span>Explore agora</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>
            <div class="carousel-item-right">
                <div class="carousel-element-circle" style="background-color: #f39c12;">
                    <i class="fas fa-dragon carousel-icon-large"></i> </div>
            </div>
        </div>
        </div>

        <div class="carousel-slide" style="background-color: #9b59b6;"> <div class="carousel-content">
            <div class="carousel-item-left">
                <img src="fotos/maria luiza miranda bastos.png" alt="Pegue seus livros" class="carousel-image-book">
            </div>
            <div class="carousel-item-center" style="background-color: #ecf0f1;"> <p class="carousel-tag" style="color: #9b59b6;">MAIS VENDIDO</p>
                <h2 class="carousel-title" style="color: #34495e;">ENTRE LAÇOS E DESPEDIDAS</h2>
                <p class="carousel-validity" style="color: #34495e;">Uma história para tocar seu coração.</p>
                <div class="carousel-offer-box" style="background-color: #be078b; color: white;">
                    <span>Ler Trecho</span>
                    <i class="fas fa-book-reader"></i>
                </div>
            </div>
            <div class="carousel-item-right">
                <div class="carousel-element-circle" style="background-color: #ecf0f1;">
                    <i class="fas fa-heart carousel-icon-large" style="color: #9b59b6;"></i> </div>
            </div>
        </div>
        </div>

        <div class="carousel-slide" style="background-color: #1abc9c;"> <div class="carousel-content">
            <div class="carousel-item-left">
                <img src="fotos/Mundo.png" alt="Dia do Livro" class="carousel-image-book">
            </div>
            <div class="carousel-item-center" style="background-color: #3498db;"> <p class="carousel-tag">NOVOS HORIZONTES</p>
                <h2 class="carousel-title">DESBLOQUEIE SEU POTENCIAL</h2>
                <p class="carousel-validity">Conhecimento para impulsionar sua carreira.</p>
                <div class="carousel-offer-box" style="background-color: #be078b; color: white;">
                    <span>Saiba Mais</span>
                    <i class="fas fa-lightbulb"></i>
                </div>
            </div>
            <div class="carousel-item-right">
                <div class="carousel-element-circle" style="background-color: #3498db;">
                    <i class="fas fa-graduation-cap carousel-icon-large"></i> </div>
            </div>
        </div>
        </div>

    </div>

</section>
<main class="content">
    <div class="book-cards-container">

        <div class="book-card card-red-queen">
            <i class="fas fa-heart favorite-btn" aria-label="Adicionar aos favoritos"></i>
            <h2 class="book-title">A Rainha<br>Vermelha</h2>
            <p class="book-author">VICTORIA AVEYARD</p>
            <div class="book-cover book-cover-red-queen">
                <img src="fotos/rainha.jpg" alt="Capa do livro A Rainha Vermelha">
            </div>
            <p class="book-snippet">
                UMA SOCIEDADE DIVIDIDA PELO SANGUE.
                E UMA JOVEM REDEFINIRÁ TUDO.
            </p>
            <a href="#" class="btn-more">SAIBA MAIS</a>
        </div>

        <div class="book-card card-dom-casmurro">
            <i class="fas fa-heart favorite-btn" aria-label="Adicionar aos favoritos"></i>
            <h2 class="book-title-small">Dom<br>Casmurro</h2>
            <p class="book-author-machado">MACHADO DE ASSIS</p>
            <div class="book-cover book-cover-dom-casmurro">
                <img src="fotos/domcasmurro.jpg" alt="Capa do livro Dom Casmurro">
            </div>
            <p class="book-snippet snippet-casmurro">
                Publicado em 1899, Dom Casmurro é uma das principais
                obras do Realismo brasileiro e um marco da literatura mundial.
            </p>
            <a href="#" class="btn-more">SAIBA MAIS</a>
        </div>

        <div class="book-card card-fault-in-stars">
            <i class="fas fa-heart favorite-btn" aria-label="Adicionar aos favoritos"></i>
            <h2 class="book-title">A Culpa é<br>Das Estrelas</h2>
            <p class="book-author-john-green">JOHN GREEN</p>
            <div class="book-cover book-cover-fault-in-stars">
                <img src="fotos/estrela.jpg" alt="Capa do livro A Culpa é das Estrelas">
            </div>
            <p class="book-snippet snippet-john-green">
                O maior best-seller de John Green que emocionou
                milhares de leitores em todo o mundo.
            </p>
            <a href="#" class="btn-more">SAIBA MAIS</a>
        </div>

    </div>
</main>

<script>
    // Script da Sidebar
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('open');
    }

    // Script do Carrossel (AUTOPLAY) - CORRIGIDO
    document.addEventListener('DOMContentLoaded', function() {
        const track = document.querySelector('.carousel-track');
        if (!track) return;

        const slides = Array.from(track.children);
        if (slides.length === 0) return;

        // 1. Calcula a largura do slide (agora deve retornar a largura correta do container)
        let slideWidth = slides[0].getBoundingClientRect().width;

        // 2. Função para mover os slides
        const updateSlidePosition = (targetIndex) => {
            // Volta ao início se chegar ao fim
            if (targetIndex >= slides.length) targetIndex = 0;
            // Vai para o fim se estiver no início e voltar
            if (targetIndex < 0) targetIndex = slides.length - 1;

            // Aplica a translação (o movimento real do carrossel)
            track.style.transform = `translateX(-${slideWidth * targetIndex}px)`;

            // Atualiza a classe 'active'
            slides.forEach(s => s.classList.remove('active'));
            slides[targetIndex].classList.add('active');
        };

        // 3. Define o primeiro slide como ativo
        slides[0].classList.add('active');

        // 4. Lógica de Autoplay
        const autoPlayInterval = setInterval(() => {
            const currentSlide = track.querySelector('.active') || slides[0];
            let currentIndex = slides.findIndex(slide => slide === currentSlide);
            let nextIndex = currentIndex + 1;
            updateSlidePosition(nextIndex);
        }, 5000); // Muda a cada 5 segundos

        // 5. Lógica de Redimensionar a Janela (Reajusta a largura do slide)
        window.addEventListener('resize', () => {
            slideWidth = slides[0].getBoundingClientRect().width;

            const currentActiveSlide = track.querySelector('.active');
            let currentIndex = slides.findIndex(s => s === currentActiveSlide);
            if (currentIndex === -1) currentIndex = 0;

            // Reajusta a posição do track (sem animação para evitar falhas)
            track.style.transition = 'none';
            track.style.transform = `translateX(-${slideWidth * currentIndex}px)`;

            // Liga a animação novamente
            setTimeout(() => {
                track.style.transition = 'transform 0.5s ease-in-out';
            }, 0);
        });
    });

    // Script para Favoritos
    document.addEventListener('DOMContentLoaded', function() {
        const favoriteBtns = document.querySelectorAll('.favorite-btn');

        favoriteBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                this.classList.toggle('favorited');
                const bookTitleElement = this.closest('.book-card').querySelector('.book-title, .book-title-small');
                const bookTitle = bookTitleElement ? bookTitleElement.textContent.trim().replace(/\n/g, ' ') : 'este livro';

                console.log(this.classList.contains('favorited') ? `Livro "${bookTitle}" favoritado!` : `Livro "${bookTitle}" desfavoritado.`);
            });
        });
    });
</script>

</body>
</html>